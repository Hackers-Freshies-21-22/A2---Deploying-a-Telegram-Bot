const token = process.env.TELEGRAM_TOKEN;
var telegramUrl = "https://api.telegram.org/bot" + token;

const axios = require('axios');

console.log(`Bot started in the ${process.env.NODE_ENV} mode`);

//setWebhook https://api.telegram.org/bot1928355698:AAGhQC-xDoTW0zxgxDQuQ6xayjACQEDDFyQ/setWebhook?url=https://immense-escarpment-36150.herokuapp.com/

function processUpdate(body) {
  sendText(body.message.chat.id,body.message.data);
}

function sendText(chatId, text) {
  var data = {
    "chat_id": chatId,
    "text": text,
    "image/jpeg;base64,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":data,
    "parse_mode": "Markdown",
  };
  const res = axios.post(`${telegramUrl}/sendMessage`, data);
  res.then(response => {
    return response;
  }).catch(err => console.log(err));
}

module.exports.processUpdate = processUpdate;